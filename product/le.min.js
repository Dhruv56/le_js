/*
 Copyright 2013 Logentries.
 Please view license at https://raw.github.com/logentries/le_js/master/LICENSE
*/
'use strict';var LE=function(f){function g(b){var e=b.token,k=b.ssl;if(b.onerror){var d=f.onerror;f.onerror=function(b,c,a){h({err:b,l:a,u:c});d&&d(b,c,a)}}var h=function(b){var c={};if(1===arguments.length){var a=arguments[0];if("string"===typeof a)c=a;else if("object"===typeof a){var c=a,a=[],d;for(d in c)a.push(d+"\x3d"+c[d]);c=a.join("\x26")}}else c=Array.prototype.slice.call(arguments);g(e,c)};this.log=h;var g=function(b,c){var a=function(){f.ActiveXObject&&(f.XMLHttpRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")});
return new XMLHttpRequest}();a.onreadystatechange=function(){4===a.readyState&&400===a.status&&console.warn("Couldn't submit events. Is your token valid?")};a.open("POST",(k?"https://":"http://")+"js.logentries.com/logs/"+e,!0);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.setRequestHeader("Content-type","application/x-www-form-urlencoded");a.send(c)}}var d;return{init:function(b){var e={ssl:!0};if("object"===typeof b)for(var f in b)e[f]=b[f];else"string"===typeof b&&(e.token=b);e.onerror=
e.onerror||!1;if(void 0===e.token)throw Error("Token not present.");d=new g(e);return!0},log:function(){if(d)d.log.apply(this,arguments);else throw Error("You must call LE.init(...) first.");}}}(this);